(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ff44cf96"],{"1a42":function(e,t,o){e.exports=o.p+"img/DockerCodeServer.1c002525.png"},"1aa1":function(e,t,o){e.exports=o.p+"img/CockpitDocker.27d5ecf2.png"},"2c5f":function(e,t,o){e.exports=o.p+"img/CockpitLogin.9c9987ab.png"},3504:function(e,t,o){e.exports=o.p+"img/CockpitStorageMissing.55a3178c.png"},5074:function(e,t,o){e.exports=o.p+"img/CockpitStorage.70e3ac34.png"},"6a5d":function(e,t,o){e.exports=o.p+"img/CockpitInterface.20e1a37b.png"},"711d":function(e,t,o){e.exports=o.p+"img/CockpitStorageAndDocker.bfd71272.png"},7619:function(e,t,o){e.exports=o.p+"img/CockpitLVM.851dd723.png"},9449:function(e,t,o){e.exports=o.p+"img/CodeServerLogin.74b189e8.png"},ac10:function(e,t,o){e.exports=o.p+"img/DockerCodeServerSetup.511c9339.png"},acf0:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("html",[a("head"),a("body",[a("h1",[e._v("Setting up Code Server using Docker on Fedora")]),a("p",[e._v("At the time of writing, Fedora 31/32 had not yet implemented enough support for "),a("code",{pre:!0},[e._v("nftables")]),e._v(", and this was causing Docker and Podman both to run into "),a("a",{attrs:{href:"https://fedoramagazine.org/docker-and-fedora-32/"}},[e._v("problems")]),e._v(" while running or exposing their interfaces for management. While I managed to get Portainer running in my last post, it was not able to actually launch or run any docker containers through "),a("code",{pre:!0},[e._v("docker-compose")]),e._v(" and "),a("code",{pre:!0},[e._v("moby")]),e._v(".")]),a("p",[e._v("Since my intent in setting up a Fedora Server was to build a personal cloud development environment, I wanted to get my machine to a point where I could at least launch a VM or a container with "),a("a",{attrs:{href:"https://github.com/cdr/code-server"}},[e._v("code-server")]),e._v(" installed, and have that exposed for use on my domain (with some password protection). As such I decided to start the project again with an older version of Fedora which had not yet moved to "),a("code",{pre:!0},[e._v("nftables")]),e._v(", and therefore retained support.")]),a("p",[e._v("I managed to get an "),a("code",{pre:!0},[e._v(".iso")]),e._v(" of Fedora 30, and ran the basic setup. This already had "),a("code",{pre:!0},[e._v("cockpit")]),e._v(" installed by default, and it was accessible just by checking the local IP address of the machine.")]),a("p",[a("img",{attrs:{src:o("c5c2"),alt:"SecurityWarning.png"}}),a("img",{attrs:{src:o("2c5f"),alt:"CockpitLogin.png"}}),a("img",{attrs:{src:o("6a5d"),alt:"CockpitInterface.png"}}),a("img",{attrs:{src:o("3504"),alt:"CockpitStorageMissing.png"}})]),a("p",[e._v("The web interface was nothing to complain about, and the same sort of problems were visible here as well as in the Fedora 32 installation. I had to run a couple of installs to get software updates, and this conveniently installed"),a("code",{pre:!0},[e._v("cockpit-storaged")]),e._v(" for Cockpit to be able to manage the LVMs on the machine.")]),a("p",[a("img",{attrs:{src:o("5074"),alt:"CockpitStorage.png"}})]),a("p",[e._v("Next was "),a("code",{pre:!0},[e._v("docker")]),e._v(" and "),a("code",{pre:!0},[e._v("cockpit-docker")]),e._v(" for Cockpit to be able to download, create, and manage the Docker containers on the machine.")]),a("p",[a("img",{attrs:{src:o("711d"),alt:"CockpitStorageAndDocker.png"}}),a("img",{attrs:{src:o("1aa1"),alt:"CockpitDocker.png"}})]),a("p",[e._v("I was able to partition my unused disk space into a nice LVM chunk for docker use, and to download a docker image for "),a("a",{attrs:{href:"https://registry.hub.docker.com/r/codercom/code-server/#!"}},[e._v("code-server")]),e._v(" quite conveniently.")]),a("p",[a("img",{attrs:{src:o("7619"),alt:"CockpitLVM.png"}}),a("img",{attrs:{src:o("eeb7"),alt:"CockpitLVMFormat.png"}}),a("img",{attrs:{src:o("1a42"),alt:"DockerCodeServer.png"}})]),a("p",[e._v("There were a few things that needed to be done to get the docker image up and functional:")]),a("ul",[a("li",[e._v("Allocating a volume (Part of the Docker image setup)")]),a("li",[e._v("Routing the docker image's port to the host port on 8080 (Also part of Docker image setup)")]),a("li",[e._v("Defining a password (As an environment variable for the Docker image)")]),a("li",[e._v("Server firewall to allow access to Docker ("),a("code",{pre:!0},[e._v("firewall-cmd --permanent --add-interface=docker0 --zone=trusted")]),e._v(")")])]),a("p",[a("img",{attrs:{src:o("ac10"),alt:"DockerCodeServerSetup.png"}})]),a("p",[e._v("Once this was done though, I was able to access code-server on my browser, and even get my personal settings up and running.")]),a("p",[a("img",{attrs:{src:o("9449"),alt:"CodeServerLogin.png"}}),a("img",{attrs:{src:o("e248"),alt:"CodeServer.png"}})]),a("p",[e._v("All in all this was much smoother, probably because much of the workflow had already been established for more than a year (Fedora 30 was released early 2019), and as such was already stable compared to Fedora 32.")])])])])}],n=o("2877"),c={},i=Object(n["a"])(c,a,r,!1,null,null,null);t["default"]=i.exports},c5c2:function(e,t,o){e.exports=o.p+"img/SecurityWarning.c4a6a7a8.png"},e248:function(e,t,o){e.exports=o.p+"img/CodeServer.0d4c4c07.png"},eeb7:function(e,t,o){e.exports=o.p+"img/CockpitLVMFormat.11022b18.png"}}]);
//# sourceMappingURL=chunk-ff44cf96.fecf9e21.js.map