{"version":3,"sources":["webpack:///./src/content/blog/2020_08_07_Fedora_Server/VMSuccess.png","webpack:///./src/content/blog/2020_08_07_Fedora_Server/Portainer.png","webpack:///./src/content/blog/2020_08_07_Fedora_Server/Cockpit.png","webpack:///./src/content/blog/2020_08_07_Fedora_Server/VM.png","webpack:///./src/content/blog/2020_08_07_Fedora_Server/Storage.png","webpack:///./src/content/blog/2020_08_07_Fedora_Server/2020_08_07_Fedora_Server.md?2909","webpack:///./src/content/blog/2020_08_07_Fedora_Server/2020_08_07_Fedora_Server.md","webpack:///./src/content/blog/2020_08_07_Fedora_Server/PortainerConsole.png","webpack:///./src/content/blog/2020_08_07_Fedora_Server/Terminal.png","webpack:///./src/content/blog/2020_08_07_Fedora_Server/CockpitLogin.png"],"names":["module","exports","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","_v","attrs","pre","script","component"],"mappings":"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","file":"js/chunk-91fae990.939444b7.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/VMSuccess.f671c954.png\";","module.exports = __webpack_public_path__ + \"img/Portainer.86b84d5f.png\";","module.exports = __webpack_public_path__ + \"img/Cockpit.63e5c1a3.png\";","module.exports = __webpack_public_path__ + \"img/VM.1d22a89a.png\";","module.exports = __webpack_public_path__ + \"img/Storage.498ce298.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Setting up a Fedora Server on an old laptop\")]),_c('p',[_vm._v(\"Several years back, I had loaned my old laptop to one of my mentees, because he didn't have his own. This year, since he was about to start University, he had gotten himself a swanky new one, and so the old laptop returned to me. Seeing as I now had an unused piece of hardware on my hands, I decided that this would be a good opportunity for me to try experimenting further with Linux administration.\")]),_c('p',[_vm._v(\"Some research and a couple of discussions later, I decided to go with Fedora Server. I had considered the more common ones, but CentOS and Ubuntu were more for desktop use, and ArchLinux was a bit too bare-bones for my liking. Fedora seemed to have a good mix of server and desktop (I could have a server and run a VM for the desktop) and so I decided that would be my choice - not to mention it came with Cockpit, which had interested me greatly.\")]),_c('p',[_vm._v(\"I got the .iso file from \"),_c('a',{attrs:{\"href\":\"getfedora.org\"}},[_vm._v(\"Fedora\")]),_vm._v(\" and flashed it on a USB drive using Etcher, plugged it in, and I was on my way.\")]),_c('p',[_vm._v(\"The installation interface was pretty much the same as CentOS (Well, they are from the same developers) and so it was quite smooth to get things started.\")]),_c('p',[_vm._v(\"Then the hiccups began.\")]),_c('p',[_vm._v(\"First wifi wouldn't work, and I spent one night figuring out why that would be the case, running \"),_c('code',{pre:true},[_vm._v(\"ncmli\")]),_vm._v(\" again and again to attempt to enable it or find the AP. Eventually it came down to this; I didn't have \"),_c('code',{pre:true},[_vm._v(\"wpa_supplicant\")]),_vm._v(\" installed (Which I found as an \"),_c('a',{attrs:{\"href\":\"https://bugzilla.redhat.com/show_bug.cgi?id=1756488\"}},[_vm._v(\"issue\")]),_vm._v(\" in the Bug list of Fedora Server 31), and so it was not able to enable the wifi device.\")]),_c('p',[_vm._v(\"So I connected it via Ethernet cable, finished the install, installed \"),_c('code',{pre:true},[_vm._v(\"wpa_supplicant\")]),_vm._v(\", enabled and started \"),_c('code',{pre:true},[_vm._v(\"iwd.service\")]),_vm._v(\" and \"),_c('code',{pre:true},[_vm._v(\"wpa_supplicant.service\")]),_vm._v(\", and connected to the wifi using \"),_c('code',{pre:true},[_vm._v(\"nmcli device wifi connect ...\")]),_vm._v(\".\")]),_c('p',[_vm._v(\"A \"),_c('a',{attrs:{\"href\":\"https://cockpit-project.org/running.html\"}},[_vm._v(\"few steps later\")]),_vm._v(\" I had Cockpit started up and connecting on wifi as well as ethernet.\")]),_c('p',[_c('img',{attrs:{\"src\":require(\"./CockpitLogin.png\"),\"alt\":\"CockpitLogin.png\"}}),_c('img',{attrs:{\"src\":require(\"./Cockpit.png\"),\"alt\":\"Cockpit.png\"}})]),_c('p',[_vm._v(\"It was pretty sleek, to be honest, and I was quite impressed at how much I could do on it. It even had a terminal which allowed me to do most administration tasks.\")]),_c('p',[_c('img',{attrs:{\"src\":require(\"./Terminal.png\"),\"alt\":\"Terminal.png\"}})]),_c('p',[_vm._v(\"Then I attempted to create a Virtual Machine, thinking that I could try running a desktop VM on it, and expose it for use. I was getting pretty impressed at how easy it was to \"),_c('a',{attrs:{\"href\":\"https://fedoramagazine.org/create-virtual-machines-with-cockpit-in-fedora/\"}},[_vm._v(\"create and launch a VM in Cockpit\")]),_vm._v(\" when... I didn't have space? It seemed that there was a problem with the drive management on my machine. Naturally, this meant that my virtual disk couldn't be allocated, and when I attempted to \"),_c('code',{pre:true},[_vm._v(\"fdisk\")]),_vm._v(\" away the problem... I \"),_c('code',{pre:true},[_vm._v(\"fdisk\")]),_vm._v(\"-ed away my partition. One reboot later, I was back to square one.\")]),_c('p',[_vm._v(\"... One reinstall later ...\")]),_c('p',[_vm._v(\"I started looking around my terminal to try and figure out what exactly was missing. Cockpit did recognize my disk with the correct size, but it wasn't listing it as a drive to be used. Some \"),_c('code',{pre:true},[_vm._v(\"lsblk\")]),_vm._v(\" and searching later, I found out the problem; I needed to \"),_c('a',{attrs:{\"href\":\"https://fedoramagazine.org/storage-management-with-cockpit/\"}},[_vm._v(\"create a new logical volume\")]),_vm._v(\" which Fedora had not allocated for when automatically partitioning my drive.\")]),_c('p',[_vm._v(\"Now armed with this knowledge, I installed \"),_c('code',{pre:true},[_vm._v(\"cockpit.storaged\")]),_vm._v(\", rebooted the server, and now I could create a new logical volume. I created this, mounted it onto \"),_c('code',{pre:true},[_vm._v(\"/dev/vmvol\")]),_vm._v(\", and created a new storage pool for Virtual Machines.\")]),_c('p',[_c('img',{attrs:{\"src\":require(\"./Storage.png\"),\"alt\":\"Storage.png\"}}),_c('img',{attrs:{\"src\":require(\"./VM.png\"),\"alt\":\"VM.png\"}})]),_c('p',[_vm._v(\"Creating the VM was a little tricky due to storage. It turns out that the Virtual Machine Storage Pool was expecting \"),_c('code',{pre:true},[_vm._v(\"XFS\")]),_vm._v(\" type storage, and that a Storage Volume had to be created within the Storage Pool before the VM could be created. With that up, however, it was a cinch to get a Virtual Machine workstation up and running and streaming on Cockpit. Very cool.\")]),_c('p',[_c('img',{attrs:{\"src\":require(\"./VMSuccess.png\"),\"alt\":\"VMSuccess.png\"}})]),_c('p',[_vm._v(\"This worked decently, and I was able to install Ubuntu in a VM on the server, boot it up, and access it both through Cockpit's VNC viewer as well as directly from my desktop VNC viewer.\")]),_c('p',[_vm._v(\"I then decided to host a \"),_c('a',{attrs:{\"href\":\"https://github.com/cdr/code-server\"}},[_vm._v(\"code-server\")]),_vm._v(\" in a Docker container, and quickly discovered that Fedora 32 didn't yet have support for docker. Some searching around later, and I found out how to get it working \"),_c('a',{attrs:{\"href\":\"https://fedoramagazine.org/docker-and-fedora-32/\"}},[_vm._v(\"using Moby\")]),_vm._v(\" which was basically to first remove docker, then install \"),_c('code',{pre:true},[_vm._v(\"moby-engine\")]),_vm._v(\" with \"),_c('code',{pre:true},[_vm._v(\"docker-compose\")]),_vm._v(\". This got Docker up and running, although - since Fedora 32 didn't support it yet - with no cockpit support, which was a bit of a bummer.\")]),_c('p',[_vm._v(\"Both as a stopgap measure, and also as a way of exploring, I decided to install \"),_c('a',{attrs:{\"href\":\"https://portainer.io\"}},[_vm._v(\"Portainer\")]),_vm._v(\", which could be installed as a Docker container in my server, and manage other docker containers; seemed like a good alternative. It was quite easy to \"),_c('a',{attrs:{\"href\":\"https://www.linuxuprising.com/2019/05/portainer-web-based-docker-gui-for.html\"}},[_vm._v(\"set up Portainer\")]),_vm._v(\", now that I had Docker up and running, and the web dashboard was quickly available.\")]),_c('p',[_c('img',{attrs:{\"src\":require(\"./Portainer.png\"),\"alt\":\"Portainer.png\"}}),_c('img',{attrs:{\"src\":require(\"./PortainerConsole.png\"),\"alt\":\"PortainerConsole.png\"}})]),_c('p',[_vm._v(\"In short, on top of my fedora server set up, I had to install the following packages:\")]),_c('ul',[_c('li',[_vm._v(\"Wifi device: \"),_c('ul',[_c('li',[_c('code',{pre:true},[_vm._v(\"dnf install wpa_supplicant\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"systemctl enable iwd.service --now\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"systemctl enable wpa_supplicant.service --now\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"nmcli device wifi connect <SSID> password <PW>\")])])])]),_c('li',[_vm._v(\"Storage: \"),_c('ul',[_c('li',[_c('code',{pre:true},[_vm._v(\"dnf install cockpit.storaged\")])])])]),_c('li',[_vm._v(\"Virtual Machines: \"),_c('ul',[_c('li',[_c('code',{pre:true},[_vm._v(\"dnf install libvirt cockpit-machines\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"systemctl enable libvirtd --now\")])])])]),_c('li',[_vm._v(\"Docker: \"),_c('ul',[_c('li',[_c('code',{pre:true},[_vm._v(\"dnf remove docker-*\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"dnf config-manager --disable docker-*\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"grubby --update-kernal=ALL --args=\\\"systemd.unified_cgroup_hierarchy=0\\\"\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"dnf install moby-engine docker-compose\")])]),_c('li',[_c('code',{pre:true},[_vm._v(\"systemctl enable docker --now\")])])])])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./2020_08_07_Fedora_Server.md?vue&type=template&id=a11902aa&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/PortainerConsole.d887c28b.png\";","module.exports = __webpack_public_path__ + \"img/Terminal.6bcd0f58.png\";","module.exports = __webpack_public_path__ + \"img/CockpitLogin.583128bd.png\";"],"sourceRoot":""}