<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Julian Teh's personal website"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500;700&display=swap" rel="stylesheet"><title>Multi-page Application with Elm and Astro | tehj.io</title><link rel="stylesheet" href="/_astro/_slug_.e14127aa.css" />
<style>main[data-astro-cid-5uq7evlv]{max-width:800px;margin:0 auto;padding:0 1rem}article[data-astro-cid-5uq7evlv]{margin-bottom:4rem}h1[data-astro-cid-5uq7evlv]{font-size:2.5rem;margin-bottom:.5rem}.date[data-astro-cid-5uq7evlv]{margin-bottom:2rem;color:#666}.updated[data-astro-cid-5uq7evlv]{margin-top:.5rem;font-style:italic}.hero-image[data-astro-cid-5uq7evlv]{width:100%;height:auto;border-radius:8px;margin-bottom:2rem}.content[data-astro-cid-5uq7evlv]{line-height:1.6}.content[data-astro-cid-5uq7evlv] h2{margin-top:2rem;margin-bottom:1rem;font-size:1.8rem}.content[data-astro-cid-5uq7evlv] h3{margin-top:1.5rem;margin-bottom:.75rem;font-size:1.5rem}.content[data-astro-cid-5uq7evlv] p{margin-bottom:1rem}.content[data-astro-cid-5uq7evlv] img{max-width:100%;height:auto;border-radius:4px}.content[data-astro-cid-5uq7evlv] pre{padding:1rem;border-radius:4px;overflow-x:auto;margin:1rem 0}@media (prefers-color-scheme: dark){.date[data-astro-cid-5uq7evlv]{color:#aaa}}
</style></head> <body> <div class="container"> <header data-astro-cid-3ef6ksr2> <div class="header-content" data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2>Julian Teh</h2> <nav data-astro-cid-3ef6ksr2> <a href="/" class="" data-astro-cid-3ef6ksr2>Home</a> <a href="/projects" class="active" data-astro-cid-3ef6ksr2>Projects</a> <a href="/blog" class="" data-astro-cid-3ef6ksr2>Blog</a> <a href="https://github.com/julwrites" target="_blank" data-astro-cid-3ef6ksr2>GitHub</a> </nav> </div> </header>  <main>  <main data-astro-cid-5uq7evlv> <article data-astro-cid-5uq7evlv> <h1 data-astro-cid-5uq7evlv>Multi-page Application with Elm and Astro</h1> <div class="date" data-astro-cid-5uq7evlv> <time datetime="2023-02-09T00:00:00.000Z" data-astro-cid-5uq7evlv> February 9, 2023 </time>  </div>  <div class="content" data-astro-cid-5uq7evlv> <p>I wanted to do more writing outside of my project log, partly as a way for me to just practice writing, and partly so I could have a form of expression for my thoughts.</p>
<p>After looking around and consulting friends, I decided to try <a href="https://astro.build">Astro</a>, which offered a really straightforward setup and a ready template for blogs. The idea was to split <a href="https://tehj.io">tehj.io</a> into two parts;</p>
<ol>
<li>The landing page (still in <a href="https://elm-lang.org/">Elm</a>, because I seem to enjoy making my life difficult), which would feature my portfolio and key links</li>
<li>The blog page (now in <a href="https://astro.build"> Astro </a>, which would have my project log and my blog</li>
</ol>
<p>Just to keep things simple, I decided I would make <a href="https://tehj.io">tehj.io</a> a single page application, and I might slim it down even further to make it a little like a business card application in future.</p>
<h2 id="astro-set-up">Astro set-up</h2>
<p>Astro was impressively easy to set up, even easier than React perhaps. It also came with a template for a blog website, which was not too hard to tweak to my purposes. I have yet to do any styling on it, but for now it is useable, and I wanted to get some momentum on writing, so that will come later.</p>
<p><img src="/blog/assets/blog/2023_02_09_Multi_Page_Application_Elm_Astro/Astro_Build.png" alt="Astro Build"></p>
<p>The resulting website would have two sets of post folders, and all the assets would be contained in Github just like in my previous blog, so I wouldn’t have to manage a separate CMS. For me, this is fine, but if I ever wanted more security around my posts, or other editing capabilities, I would probably do an integration with a headless CMS.</p>
<p><img src="/blog/assets/blog/2023_02_09_Multi_Page_Application_Elm_Astro/Blog_Page.png" alt="Blog Page"></p>
<h2 id="github-pages-and-subdomain">Github Pages and Subdomain</h2>
<p>The promise of <a href="https://pages.github.com/"> Github Pages </a> was that I could have as many pages as I wanted, but only one could be on my user domain; i.e. I could have only one <code>julwrites.github.io</code>, but as many project pages as I liked, which would all come under <code>julwrites.github.io/&#x3C;project></code>.</p>
<p>The problem was, I hoped to put it under two separate subdomains; <code>www.tehj.io</code> for my landing page, and <code>blog.tehj.io</code> for my blog page. This meant that I needed some way to bind the subdomain to the new website.</p>
<p>At first I tried to directly set up the CNAME, like I did with the original website, but it turns out that this isn’t possible with pages.</p>
<p><img src="/blog/assets/blog/2023_02_09_Multi_Page_Application_Elm_Astro/Subdomain_Issue.png" alt="Subdomain Issue"></p>
<p>So in the end I just set up my Github project page as is, and removed the CNAME binding, instead allowing it to be a URL redirect; i.e. <code>blog.tehj.io</code> just redirects to <code>tehj.io/blog</code>, which Github pages handles for me.</p>
<h2 id="re-writing-elm">Re-writing Elm</h2>
<p>Previously, I had set up my website using Elm-Pages, which meant it was a pre-rendered website that was being deployed. Now that I had split out most of the complex code into a more powerful framework, I could re-write the landing page using purely Elm, and reduce the dependencies (and therefore the load time) of the page.</p>
<p>This took longer than I care to admit, because I am not an Elm expert, and I have not touched this website in more than a year, I had to go through the same struggle of reading the documentation to figure out how to re-do my website now without Elm-Pages.</p>
<p>I am ashamed to say that it took me way longer than it should have to realize that the full page was rendering on mobile because I had forgotten to set the <code>scrollbarY</code> and <code>clipY</code> attributes, which meant the landing page ended up like this.</p>
<p><img src="/blog/assets/blog/2023_02_09_Multi_Page_Application_Elm_Astro/Landing_Page_Mobile.png" alt="Landing Page Mobile"></p>
<p>After adding that, the rest of it was fairly straightforward, and my landing page - albeit a rather rough looking one - was good to go.</p>
<p><img src="/blog/assets/blog/2023_02_09_Multi_Page_Application_Elm_Astro/Landing_Page_Mobile_Fixed.png" alt="Landing Page Mobile Fixed"></p>
<p>Overall, I think this wasn’t too bad. It was really cool to see how easy it is to set up a new simple website, and I might do more in the future for other sorts of purposes, but this was a nice use of some of my paternity leave.</p> </div> </article> </main>  </main> <footer data-astro-cid-sz7xmlte> <div class="links-container" data-astro-cid-sz7xmlte> <div class="links-section" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>Connect With Me</p> <div class="icons" data-astro-cid-sz7xmlte> <a href="https://github.com/julwrites/julwrites.github.io/raw/master/assets/resume/Resume_Julian_Teh.pdf" target="_blank" title="Resume" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/resume.png" alt="Resume" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>Resume</span> </a> <a href="https://linkedin.com/in/julwrites" target="_blank" title="LinkedIn" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/linkedin.png" alt="LinkedIn" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>LinkedIn</span> </a> <a href="mailto:contact@tehj.io" target="_blank" title="Email" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/email.png" alt="Email" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>Email</span> </a> </div> </div> </div> <p data-astro-cid-sz7xmlte>&copy; 2025 Julian Teh. All rights reserved.</p> </footer>  </div> </body></html> 