<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Julian Teh's personal website"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500;700&display=swap" rel="stylesheet"><title>Setting up PiVPN and PiHole | tehj.io</title><link rel="stylesheet" href="/_astro/_slug_.e14127aa.css" />
<style>main[data-astro-cid-5uq7evlv]{max-width:800px;margin:0 auto;padding:0 1rem}article[data-astro-cid-5uq7evlv]{margin-bottom:4rem}h1[data-astro-cid-5uq7evlv]{font-size:2.5rem;margin-bottom:.5rem}.date[data-astro-cid-5uq7evlv]{margin-bottom:2rem;color:#666}.updated[data-astro-cid-5uq7evlv]{margin-top:.5rem;font-style:italic}.hero-image[data-astro-cid-5uq7evlv]{width:100%;height:auto;border-radius:8px;margin-bottom:2rem}.content[data-astro-cid-5uq7evlv]{line-height:1.6}.content[data-astro-cid-5uq7evlv] h2{margin-top:2rem;margin-bottom:1rem;font-size:1.8rem}.content[data-astro-cid-5uq7evlv] h3{margin-top:1.5rem;margin-bottom:.75rem;font-size:1.5rem}.content[data-astro-cid-5uq7evlv] p{margin-bottom:1rem}.content[data-astro-cid-5uq7evlv] img{max-width:100%;height:auto;border-radius:4px}.content[data-astro-cid-5uq7evlv] pre{padding:1rem;border-radius:4px;overflow-x:auto;margin:1rem 0}@media (prefers-color-scheme: dark){.date[data-astro-cid-5uq7evlv]{color:#aaa}}
</style></head> <body> <div class="container"> <header data-astro-cid-3ef6ksr2> <div class="header-content" data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2>Julian Teh</h2> <nav data-astro-cid-3ef6ksr2> <a href="/" class="" data-astro-cid-3ef6ksr2>Home</a> <a href="/projects" class="active" data-astro-cid-3ef6ksr2>Projects</a> <a href="/blog" class="" data-astro-cid-3ef6ksr2>Blog</a> <a href="https://github.com/julwrites" target="_blank" data-astro-cid-3ef6ksr2>GitHub</a> </nav> </div> </header>  <main>  <main data-astro-cid-5uq7evlv> <article data-astro-cid-5uq7evlv> <h1 data-astro-cid-5uq7evlv>Setting up PiVPN and PiHole</h1> <div class="date" data-astro-cid-5uq7evlv> <time datetime="2023-02-11T00:00:00.000Z" data-astro-cid-5uq7evlv> February 11, 2023 </time>  </div> <img src="/blog/assets/blog/2023_02_11_PiVPN_PiHole/PiVPN.png" alt="Hero image for Setting up PiVPN and PiHole" class="hero-image" data-astro-cid-5uq7evlv> <div class="content" data-astro-cid-5uq7evlv> <h2 id="pi-networking">Pi Networking</h2>
<p>I’ve been using <a href="https://pi-hole.net/">PiHole</a> for awhile, and in a few configurations. At one point it was my DHCP server, and that worked quite well especially when I wasn’t keen on using my ISP’s router settings and wanted more control.</p>
<p><img src="/blog/assets/blog/2023_02_11_PiVPN_PiHole/PiVPN.png" alt="PiVPN"></p>
<p>But since I set up Homeassistant recently, I’ve been wondering about a way to access my home network remotely, so that I could still check on home without needing something like Google Home. A little googling and I found <a href="https://pivpn.io/">PiVPN</a>, which looked perfect.</p>
<p>It promised VPN connections on both OpenVPN and Wireguard (I was happy with just Wireguard), and it was able to run alongside PiHole. In fact, it is actually one of their features.</p>
<p>As an added bonus, this could be installed alongside PiHole, which meant I didn’t have to re-flash my PiHole (which I would have to do if I chose to use OpenWRT instead)</p>
<p>The downside though? There was no Web UI. But honestly, that’s probably fine. I asked myself: How many clients do I want to connect and how often? And the answer was probably just the one or two personal devices.</p>
<h2 id="setting-up-pivpn">Setting up PiVPN</h2>
<p>Now came the fun part. I obviously didn’t want to just bind the public address of my home network for access through Wireguard, so I needed to set up some other method that would at least make that IP address hidden from any client point of view.</p>
<p>Enter Dynamic DNS! PiVPN had some guides for <a href="https://docs.pivpn.io/guides/dynamic-dns/">Dynamic DNS setup</a>, which led me to <a href="https://www.duckdns.org/install.jsp">Duck DNS Dynamic DNS setup</a>. The steps themselves were fairly straightforward, and I was able to adapt them to <a href="v"> Namecheap </a>, which is the DNS provider that I use. They similarly had a guide on how to <a href="https://www.namecheap.com/support/knowledgebase/article.aspx/29/11/how-to-dynamically-update-the-hosts-ip-with-an-http-request/">dynamically update the host IP</a></p>
<p>Once that was set up, I was good to go! I just ran the commands for adding clients and generating the necessary QR Codes or config files, and got the individual clients set up.</p>
<p><img src="/blog/assets/blog/2023_02_11_PiVPN_PiHole/PiVPN_Add.png" alt="PiVPN Add"></p>
<p>Now I can access my Homeassistant configuration remotely through the Wireguard tunnel!</p>
<h2 id="the-final-blow">The final blow</h2>
<p><img src="/blog/assets/blog/2023_02_11_PiVPN_PiHole/Wifiman.png" alt="Wifiman"></p>
<p>Turns out, I was actually able to tunnel into my network using <a href="https://wifiman.com/"> WifiMan </a>, since I am using a Ubiquiti router. So maybe this whole project was a little moot, but no harm having an open source option, right?</p> </div> </article> </main>  </main> <footer data-astro-cid-sz7xmlte> <div class="links-container" data-astro-cid-sz7xmlte> <div class="links-section" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>Connect With Me</p> <div class="icons" data-astro-cid-sz7xmlte> <a href="https://github.com/julwrites/julwrites.github.io/raw/master/assets/resume/Resume_Julian_Teh.pdf" target="_blank" title="Resume" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/resume.png" alt="Resume" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>Resume</span> </a> <a href="https://linkedin.com/in/julwrites" target="_blank" title="LinkedIn" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/linkedin.png" alt="LinkedIn" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>LinkedIn</span> </a> <a href="mailto:contact@tehj.io" target="_blank" title="Email" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/email.png" alt="Email" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>Email</span> </a> </div> </div> </div> <p data-astro-cid-sz7xmlte>&copy; 2025 Julian Teh. All rights reserved.</p> </footer>  </div> </body></html> 