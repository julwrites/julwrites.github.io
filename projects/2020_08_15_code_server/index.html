<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Julian Teh's personal website"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500;700&display=swap" rel="stylesheet"><title>Setting up Code Server using Docker on Fedora | tehj.io</title><link rel="stylesheet" href="/_astro/_slug_.e14127aa.css" />
<style>main[data-astro-cid-5uq7evlv]{max-width:800px;margin:0 auto;padding:0 1rem}article[data-astro-cid-5uq7evlv]{margin-bottom:4rem}h1[data-astro-cid-5uq7evlv]{font-size:2.5rem;margin-bottom:.5rem}.date[data-astro-cid-5uq7evlv]{margin-bottom:2rem;color:#666}.updated[data-astro-cid-5uq7evlv]{margin-top:.5rem;font-style:italic}.hero-image[data-astro-cid-5uq7evlv]{width:100%;height:auto;border-radius:8px;margin-bottom:2rem}.content[data-astro-cid-5uq7evlv]{line-height:1.6}.content[data-astro-cid-5uq7evlv] h2{margin-top:2rem;margin-bottom:1rem;font-size:1.8rem}.content[data-astro-cid-5uq7evlv] h3{margin-top:1.5rem;margin-bottom:.75rem;font-size:1.5rem}.content[data-astro-cid-5uq7evlv] p{margin-bottom:1rem}.content[data-astro-cid-5uq7evlv] img{max-width:100%;height:auto;border-radius:4px}.content[data-astro-cid-5uq7evlv] pre{padding:1rem;border-radius:4px;overflow-x:auto;margin:1rem 0}@media (prefers-color-scheme: dark){.date[data-astro-cid-5uq7evlv]{color:#aaa}}
</style></head> <body> <div class="container"> <header data-astro-cid-3ef6ksr2> <div class="header-content" data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2>Julian Teh</h2> <nav data-astro-cid-3ef6ksr2> <a href="/" class="" data-astro-cid-3ef6ksr2>Home</a> <a href="/projects" class="active" data-astro-cid-3ef6ksr2>Projects</a> <a href="/blog" class="" data-astro-cid-3ef6ksr2>Blog</a> <a href="https://github.com/julwrites" target="_blank" data-astro-cid-3ef6ksr2>GitHub</a> </nav> </div> </header>  <main>  <main data-astro-cid-5uq7evlv> <article data-astro-cid-5uq7evlv> <h1 data-astro-cid-5uq7evlv>Setting up Code Server using Docker on Fedora</h1> <div class="date" data-astro-cid-5uq7evlv> <time datetime="2020-08-15T00:00:00.000Z" data-astro-cid-5uq7evlv> August 15, 2020 </time>  </div> <img src="/blog/assets/blog/2020_08_15_Code_Server/CodeServer.png" alt="Hero image for Setting up Code Server using Docker on Fedora" class="hero-image" data-astro-cid-5uq7evlv> <div class="content" data-astro-cid-5uq7evlv> <p>At the time of writing, Fedora 31/32 had not yet implemented enough support for <code>nftables</code>, and this was causing Docker and Podman both to run into <a href="https://fedoramagazine.org/docker-and-fedora-32/">problems</a> while running or exposing their interfaces for management. While I managed to get Portainer running in my last post, it was not able to actually launch or run any docker containers through <code>docker-compose</code> and <code>moby</code>.</p>
<p>Since my intent in setting up a Fedora Server was to build a personal cloud development environment, I wanted to get my machine to a point where I could at least launch a VM or a container with <a href="https://github.com/cdr/code-server">code-server</a> installed, and have that exposed for use on my domain (with some password protection). As such I decided to start the project again with an older version of Fedora which had not yet moved to <code>nftables</code>, and therefore retained support.</p>
<p>I managed to get an <code>.iso</code> of Fedora 30, and ran the basic setup. This already had <code>cockpit</code> installed by default, and it was accessible just by checking the local IP address of the machine.</p>
<p><img src="/blog/assets/blog/2020_08_15_Code_Server/SecurityWarning.png" alt="SecurityWarning.png">
<img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitLogin.png" alt="CockpitLogin.png">
<img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitInterface.png" alt="CockpitInterface.png">
<img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitStorageMissing.png" alt="CockpitStorageMissing.png"></p>
<p>The web interface was nothing to complain about, and the same sort of problems were visible here as well as in the Fedora 32 installation. I had to run a couple of installs to get software updates, and this conveniently installed<code>cockpit-storaged</code> for Cockpit to be able to manage the LVMs on the machine.</p>
<p><img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitStorage.png" alt="CockpitStorage.png"></p>
<p>Next was <code>docker</code> and <code>cockpit-docker</code> for Cockpit to be able to download, create, and manage the Docker containers on the machine.</p>
<p><img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitStorageAndDocker.png" alt="CockpitStorageAndDocker.png">
<img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitDocker.png" alt="CockpitDocker.png"></p>
<p>I was able to partition my unused disk space into a nice LVM chunk for docker use, and to download a docker image for <a href="https://registry.hub.docker.com/r/codercom/code-server/#!">code-server</a> quite conveniently.</p>
<p><img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitLVM.png" alt="CockpitLVM.png">
<img src="/blog/assets/blog/2020_08_15_Code_Server/CockpitLVMFormat.png" alt="CockpitLVMFormat.png">
<img src="/blog/assets/blog/2020_08_15_Code_Server/DockerCodeServer.png" alt="DockerCodeServer.png"></p>
<p>There were a few things that needed to be done to get the docker image up and functional:</p>
<ul>
<li>Allocating a volume (Part of the Docker image setup)</li>
<li>Routing the docker imageâ€™s port to the host port on 8080 (Also part of Docker image setup)</li>
<li>Defining a password (As an environment variable for the Docker image)</li>
<li>Server firewall to allow access to Docker (<code>firewall-cmd --permanent --add-interface=docker0 --zone=trusted</code>)</li>
</ul>
<p><img src="/blog/assets/blog/2020_08_15_Code_Server/DockerCodeServerSetup.png" alt="DockerCodeServerSetup.png"></p>
<p>Once this was done though, I was able to access code-server on my browser, and even get my personal settings up and running.</p>
<p><img src="/blog/assets/blog/2020_08_15_Code_Server/CodeServerLogin.png" alt="CodeServerLogin.png">
<img src="/blog/assets/blog/2020_08_15_Code_Server/CodeServer.png" alt="CodeServer.png"></p>
<p>All in all this was much smoother, probably because much of the workflow had already been established for more than a year (Fedora 30 was released early 2019), and as such was already stable compared to Fedora 32.</p> </div> </article> </main>  </main> <footer data-astro-cid-sz7xmlte> <div class="links-container" data-astro-cid-sz7xmlte> <div class="links-section" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>Connect With Me</p> <div class="icons" data-astro-cid-sz7xmlte> <a href="https://github.com/julwrites/julwrites.github.io/raw/master/assets/resume/Resume_Julian_Teh.pdf" target="_blank" title="Resume" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/resume.png" alt="Resume" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>Resume</span> </a> <a href="https://linkedin.com/in/julwrites" target="_blank" title="LinkedIn" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/linkedin.png" alt="LinkedIn" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>LinkedIn</span> </a> <a href="mailto:contact@tehj.io" target="_blank" title="Email" data-astro-cid-sz7xmlte> <img src="/assets/images/dark/email.png" alt="Email" data-astro-cid-sz7xmlte> <span data-astro-cid-sz7xmlte>Email</span> </a> </div> </div> </div> <p data-astro-cid-sz7xmlte>&copy; 2025 Julian Teh. All rights reserved.</p> </footer>  </div> </body></html> 