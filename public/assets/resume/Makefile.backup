# Makefile for LaTeX Resume

# Main LaTeX file
TEX_FILE = Resume_Julian_Teh.tex
PDF_FILE = $(TEX_FILE:.tex=.pdf)

# LaTeX compiler
LATEX = pdflatex
LATEX_FLAGS = -interaction=nonstopmode -halt-on-error

# Intermediate files to clean
AUX_FILES = *.aux *.log *.out *.toc *.lof *.lot *.bbl *.blg *.nav *.snm *.vrb

# Default target
all: $(PDF_FILE)

# Build PDF from LaTeX
$(PDF_FILE): $(TEX_FILE)
	@echo "Compiling LaTeX document..."
	$(LATEX) $(LATEX_FLAGS) $(TEX_FILE)
	@echo "Build complete: $(PDF_FILE)"

# Clean intermediate files
clean:
	@echo "Cleaning intermediate files..."
	rm -f $(AUX_FILES)

# Clean everything including PDF
clean-all: clean
	@echo "Cleaning PDF file..."
	rm -f $(PDF_FILE)

# Rebuild from scratch
rebuild: clean-all all

# Install dependencies (macOS specific)
install-deps:
	@echo "Installing LaTeX dependencies (macOS)..."
	brew install --cask mactex-no-gui || brew install --cask basictex

# Help target
help:
	@echo "Available targets:"
	@echo "  all        - Build the PDF (default)"
	@echo "  clean      - Remove intermediate files"
	@echo "  clean-all  - Remove all generated files including PDF"
	@echo "  rebuild    - Clean and rebuild from scratch"
	@echo "  install-deps - Install LaTeX (macOS)"
	@echo "  help       - Show this help"

.PHONY: all clean clean-all rebuild install-deps help
