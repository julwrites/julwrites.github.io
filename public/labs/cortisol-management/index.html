<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cortisol Management Interactive Infographic</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #333333;
            --text-secondary: #666666;
            --accent: #4a6fa5;
            --accent-light: #6c8cbf;
            --border: #e0e0e0;
            --shadow: rgba(0, 0, 0, 0.1);
            --cortisol-color: #e63946;
            --cortisol-light: #ffccd5;
            --healthy-color: #2a9d8f;
            --warning-color: #e76f51;
        }

        [data-theme="dark"] {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --text-primary: #f8f9fa;
            --text-secondary: #d1d1d1;
            --accent: #6c8cbf;
            --accent-light: #4a6fa5;
            --border: #2d3561;
            --shadow: rgba(0, 0, 0, 0.3);
            --cortisol-color: #e76f51;
            --cortisol-light: #ff9a76;
            --healthy-color: #2a9d8f;
            --warning-color: #e63946;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        h1 {
            color: var(--accent);
            font-size: 2.2rem;
        }

        .theme-toggle {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--accent-light);
            transform: translateY(-2px);
        }

        .infographic {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .graph-container {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 30px var(--shadow);
        }

        .controls {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 30px var(--shadow);
        }

        .control-group {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .control-group:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        h2 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .slider-container {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-secondary);
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
        }

        .value-display {
            display: inline-block;
            background: var(--bg-primary);
            padding: 4px 10px;
            border-radius: 15px;
            font-weight: bold;
            margin-left: 10px;
            color: var(--accent);
        }

        .info-panel {
            background: var(--bg-secondary);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 30px var(--shadow);
            margin-bottom: 30px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .info-card {
            background: var(--bg-primary);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid var(--accent);
        }

        .info-card h3 {
            color: var(--accent);
            margin-bottom: 10px;
        }

        .cortisol-status {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 10px;
        }

        .healthy {
            background: var(--cortisol-light);
            color: var(--healthy-color);
        }

        .warning {
            background: var(--cortisol-light);
            color: var(--warning-color);
        }

        .key-term {
            font-weight: bold;
            color: var(--accent);
        }

        .cortisol-curve {
            stroke: var(--cortisol-color);
            stroke-width: 3;
            fill: none;
        }

        .healthy-curve {
            stroke: var(--healthy-color);
            stroke-width: 2;
            stroke-dasharray: 5,5;
            fill: none;
        }

        .axis {
            stroke: var(--text-secondary);
            stroke-width: 1;
        }

        .axis-label {
            fill: var(--text-secondary);
            font-size: 12px;
        }

        .grid-line {
            stroke: var(--border);
            stroke-width: 1;
            stroke-dasharray: 2,2;
        }

        .time-marker {
            fill: var(--text-secondary);
            font-size: 12px;
        }

        .cortisol-level {
            fill: var(--text-secondary);
            font-size: 12px;
        }

        .legend {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 0 15px;
        }

        .legend-color {
            width: 20px;
            height: 3px;
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .infographic {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Cortisol Management Interactive Infographic</h1>
            <button class="theme-toggle" id="theme-toggle">Toggle Dark Mode</button>
        </header>

        <div class="info-panel">
            <h2>Understanding Your Cortisol Rhythm</h2>
            <p>Cortisol is a <span class="key-term">circadian hormone</span> that follows a predictable daily pattern. It peaks shortly after waking to provide energy and alertness, then gradually declines throughout the day, reaching its lowest point around midnight. This rhythm is crucial for:</p>
            
            <div class="info-grid">
                <div class="info-card">
                    <h3>Morning Energy</h3>
                    <p>The cortisol awakening response (CAR) provides glucose to your brain and muscles, helping you feel alert and focused.</p>
                </div>
                <div class="info-card">
                    <h3>Evening Wind-down</h3>
                    <p>As cortisol decreases, your body prepares for rest and recovery. Elevated evening cortisol disrupts sleep quality.</p>
                </div>
                <div class="info-card">
                    <h3>Immune Function</h3>
                    <p>Proper cortisol rhythm supports immune regulation. Chronic elevation suppresses immune function.</p>
                </div>
                <div class="info-card">
                    <h3>Cognitive Performance</h3>
                    <p>Optimal cortisol levels enhance memory, focus, and decision-making throughout the day.</p>
                </div>
            </div>
        </div>

        <div class="infographic">
            <div class="graph-container">
                <h2>Your Cortisol Rhythm</h2>
                <svg id="cortisol-graph" width="100%" height="400" viewBox="0 0 800 400">
                    <!-- Grid lines -->
                    <g id="grid"></g>
                    
                    <!-- Axes -->
                    <line x1="50" y1="350" x2="750" y2="350" class="axis"></line>
                    <line x1="50" y1="50" x2="50" y2="350" class="axis"></line>
                    
                    <!-- Time labels -->
                    <g id="time-labels"></g>
                    
                    <!-- Cortisol level labels -->
                    <g id="cortisol-labels"></g>
                    
                    <!-- Healthy cortisol curve (reference) -->
                    <path id="healthy-curve" class="healthy-curve"></path>
                    
                    <!-- User's cortisol curve -->
                    <path id="user-curve" class="cortisol-curve"></path>
                    
                    <!-- Legend -->
                    <g class="legend" transform="translate(300, 30)">
                        <rect class="legend-color" x="0" y="0" width="20" height="3" fill="var(--cortisol-color)"></rect>
                        <text x="25" y="5" class="axis-label">Your Cortisol</text>
                        
                        <rect class="legend-color" x="150" y="0" width="20" height="3" fill="var(--healthy-color)" stroke-dasharray="5,5"></rect>
                        <text x="175" y="5" class="axis-label">Healthy Rhythm</text>
                    </g>
                </svg>
                
                <div class="cortisol-status" id="cortisol-status">Healthy Rhythm</div>
            </div>
            
            <div class="controls">
                <h2>Lifestyle Parameters</h2>
                
                <div class="control-group">
                    <h2>Morning Routine</h2>
                    <div class="slider-container">
                        <label>Morning Light Exposure (minutes after waking): <span class="value-display" id="light-time-value">30</span></label>
                        <input type="range" id="morning-light-time" min="0" max="120" value="30">
                    </div>
                    <div class="slider-container">
                        <label>Light Intensity (lux): <span class="value-display" id="light-intensity-value">10000</span></label>
                        <input type="range" id="morning-light-intensity" min="0" max="20000" value="10000">
                    </div>
                </div>
                
                <div class="control-group">
                    <h2>Evening Routine</h2>
                    <div class="slider-container">
                        <label>Screen Time Before Bed (hours): <span class="value-display" id="screen-time-value">1</span></label>
                        <input type="range" id="evening-screen-time" min="0" max="4" step="0.5" value="1">
                    </div>
                    <div class="slider-container">
                        <label>Dim Lights Before Bed (hours): <span class="value-display" id="dim-lights-value">2</span></label>
                        <input type="range" id="evening-dim-lights" min="0" max="4" step="0.5" value="2">
                    </div>
                </div>
                
                <div class="control-group">
                    <h2>Stress & Recovery</h2>
                    <div class="slider-container">
                        <label>Daily Stress Level (1-10): <span class="value-display" id="stress-level-value">3</span></label>
                        <input type="range" id="stress-level" min="1" max="10" value="3">
                    </div>
                    <div class="slider-container">
                        <label>Sleep Duration (hours): <span class="value-display" id="sleep-duration-value">8</span></label>
                        <input type="range" id="sleep-duration" min="4" max="10" step="0.5" value="8">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="info-panel">
            <h2>Key Insights from the Research</h2>
            <blockquote>
                <p><strong>Cortisol is not merely a stress hormone—it's a circadian energy regulator.</strong> The 24-hour rhythm of cortisol is more important than its absolute level. A healthy pattern shows a robust morning spike followed by a gradual decline throughout the day.</p>
            </blockquote>
            
            <p>When your cortisol rhythm is optimized:</p>
            <ul>
                <li>You experience <span class="key-term">sustained energy</span> without crashes</li>
                <li>Your cognitive function remains <span class="key-term">sharp and focused</span></li>
                <li>Your immune system functions <span class="key-term">optimally</span></li>
                <li>You fall asleep easily and experience <span class="key-term">deep, restorative sleep</span></li>
            </ul>
            
            <p>Disruptions to this rhythm—caused by irregular light exposure, chronic stress, or poor sleep—can lead to burnout, cognitive fog, and metabolic issues. The interactive graph above shows how your daily choices shape this critical rhythm.</p>
        </div>
    </div>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        
        themeToggle.addEventListener('click', () => {
            if (body.getAttribute('data-theme') === 'dark') {
                body.removeAttribute('data-theme');
            } else {
                body.setAttribute('data-theme', 'dark');
            }
        });
        
        // Get control elements
        const morningLightTime = document.getElementById('morning-light-time');
        const morningLightIntensity = document.getElementById('morning-light-intensity');
        const eveningScreenTime = document.getElementById('evening-screen-time');
        const eveningDimLights = document.getElementById('evening-dim-lights');
        const stressLevel = document.getElementById('stress-level');
        const sleepDuration = document.getElementById('sleep-duration');
        
        // Value display elements
        const lightTimeValue = document.getElementById('light-time-value');
        const lightIntensityValue = document.getElementById('light-intensity-value');
        const screenTimeValue = document.getElementById('screen-time-value');
        const dimLightsValue = document.getElementById('dim-lights-value');
        const stressLevelValue = document.getElementById('stress-level-value');
        const sleepDurationValue = document.getElementById('sleep-duration-value');
        
        // Graph elements
        const userCurve = document.getElementById('user-curve');
        const healthyCurve = document.getElementById('healthy-curve');
        const cortisolStatus = document.getElementById('cortisol-status');
        
        // Initialize graph
        function initializeGraph() {
            // Draw grid lines
            const grid = document.getElementById('grid');
            for (let i = 1; i < 24; i++) {
                const x = 50 + (i * 29.17); // 700px width / 24 hours
                const gridLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                gridLine.setAttribute('x1', x);
                gridLine.setAttribute('y1', 50);
                gridLine.setAttribute('x2', x);
                gridLine.setAttribute('y2', 350);
                gridLine.setAttribute('class', 'grid-line');
                grid.appendChild(gridLine);
            }
            
            // Draw horizontal grid lines
            for (let i = 1; i < 6; i++) {
                const y = 50 + (i * 50);
                const gridLine = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                gridLine.setAttribute('x1', 50);
                gridLine.setAttribute('y1', y);
                gridLine.setAttribute('x2', 750);
                gridLine.setAttribute('y2', y);
                gridLine.setAttribute('class', 'grid-line');
                grid.appendChild(gridLine);
            }
            
            // Draw time labels
            const timeLabels = document.getElementById('time-labels');
            for (let i = 0; i <= 24; i += 3) {
                const x = 50 + (i * 29.17);
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', x);
                text.setAttribute('y', 370);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('class', 'time-marker');
                text.textContent = `${i}:00`;
                timeLabels.appendChild(text);
            }
            
            // Draw cortisol level labels
            const cortisolLabels = document.getElementById('cortisol-labels');
            for (let i = 0; i <= 100; i += 20) {
                const y = 350 - (i * 3);
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', 40);
                text.setAttribute('y', y);
                text.setAttribute('text-anchor', 'end');
                text.setAttribute('class', 'cortisol-level');
                text.textContent = `${i}%`;
                cortisolLabels.appendChild(text);
            }
            
            // Draw healthy cortisol curve
            drawHealthyCurve();
            
            // Draw initial user curve
            updateUserCurve();
        }
        
        // Draw healthy cortisol curve
        function drawHealthyCurve() {
            let path = 'M 50,200 ';
            
            for (let hour = 0; hour <= 24; hour += 0.5) {
                const x = 50 + (hour * 29.17);
                // Healthy cortisol curve: peak at 8 AM (80%), trough at midnight (20%)
                let y;
                if (hour < 8) {
                    // Rising from midnight to 8 AM
                    y = 200 - (hour / 8) * 180;
                } else if (hour < 20) {
                    // Declining from 8 AM to 8 PM
                    y = 20 + ((hour - 8) / 12) * 180;
                } else {
                    // Continued decline to midnight
                    y = 200 + ((hour - 20) / 4) * 60;
                }
                
                path += `L ${x},${y} `;
            }
            
            healthyCurve.setAttribute('d', path);
        }
        
        // Update user curve based on parameters
        function updateUserCurve() {
            // Get parameter values
            const lightTime = parseInt(morningLightTime.value);
            const lightIntensity = parseInt(morningLightIntensity.value);
            const screenTime = parseFloat(eveningScreenTime.value);
            const dimLights = parseFloat(eveningDimLights.value);
            const stress = parseInt(stressLevel.value);
            const sleep = parseFloat(sleepDuration.value);
            
            // Update value displays
            lightTimeValue.textContent = lightTime;
            lightIntensityValue.textContent = lightIntensity;
            screenTimeValue.textContent = screenTime;
            dimLightsValue.textContent = dimLights;
            stressLevelValue.textContent = stress;
            sleepDurationValue.textContent = sleep;
            
            // Calculate curve adjustments
            const morningPeak = Math.min(80, 40 + (lightTime / 120) * 20 + (lightIntensity / 20000) * 20);
            const eveningLevel = Math.max(20, 10 + screenTime * 15 - dimLights * 10 + stress * 3);
            const rhythmStrength = Math.max(20, 100 - stress * 8 - (8 - sleep) * 10);
            
            let path = 'M 50,200 ';
            let status = 'Healthy Rhythm';
            let statusClass = 'healthy';
            
            for (let hour = 0; hour <= 24; hour += 0.5) {
                const x = 50 + (hour * 29.17);
                let y;
                
                if (hour < 8) {
                    // Rising from midnight to 8 AM
                    const riseRate = morningPeak / 8;
                    y = 200 - (hour * riseRate * 2.25);
                } else if (hour < 20) {
                    // Declining from 8 AM to 8 PM
                    const declineRate = (morningPeak - eveningLevel) / 12;
                    y = 20 + morningPeak * 2.25 + ((hour - 8) * declineRate * 2.25);
                } else {
                    // Continued decline to midnight
                    const eveningDecline = (eveningLevel - 20) / 4;
                    y = 200 + ((hour - 20) * eveningDecline * 2.25);
                }
                
                // Add rhythm strength effect (flattens curve under stress)
                const rhythmEffect = 1 - (1 - rhythmStrength/100) * Math.abs(hour - 12) / 12;
                y = 200 + (y - 200) * rhythmEffect;
                
                path += `L ${x},${y} `;
            }
            
            // Determine status
            if (morningPeak < 60 || eveningLevel > 40 || rhythmStrength < 60) {
                status = 'Suboptimal Rhythm';
                statusClass = 'warning';
            }
            
            // Update curve and status
            userCurve.setAttribute('d', path);
            cortisolStatus.textContent = status;
            cortisolStatus.className = `cortisol-status ${statusClass}`;
        }
        
        // Add event listeners to controls
        morningLightTime.addEventListener('input', updateUserCurve);
        morningLightIntensity.addEventListener('input', updateUserCurve);
        eveningScreenTime.addEventListener('input', updateUserCurve);
        eveningDimLights.addEventListener('input', updateUserCurve);
        stressLevel.addEventListener('input', updateUserCurve);
        sleepDuration.addEventListener('input', updateUserCurve);
        
        // Initialize the graph on page load
        window.addEventListener('load', initializeGraph);
    </script>
</body>
</html>
