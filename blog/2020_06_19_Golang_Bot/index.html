<!DOCTYPE html>
  <html lang="en">
  <head>
    <link rel="stylesheet" href="/style.css">
    
    <link rel="preload" href="/elm.js" as="script">
    <link rel="modulepreload" href="/index.js">
    
    <script defer="defer" src="/elm.js" type="text/javascript"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <script type="module">
import userInit from"/index.js";
let prefetchedPages=[window.location.pathname],initialLocationHash=document.location.hash.replace(/^#/,"");function loadContentAndInitializeApp(){let a=window.location.pathname.replace(/(w)$/,"$1/");a.endsWith("/")||(a+="/");const b=Elm.TemplateModulesBeta.init({flags:{secrets:null,baseUrl:document.baseURI,isPrerendering:!1,isDevServer:!1,isElmDebugMode:!1,contentJson:JSON.parse(document.getElementById("__ELM_PAGES_DATA__").innerHTML),userFlags:userInit.flags()}});return b.ports.toJsPort.subscribe(()=>{loadNamedAnchor()}),b}function loadNamedAnchor(){if(""!==initialLocationHash){const a=document.querySelector(`[name=${initialLocationHash}]`);a&&a.scrollIntoView()}}function prefetchIfNeeded(a){if(a.host===window.location.host&&!prefetchedPages.includes(a.pathname)){prefetchedPages.push(a.pathname),console.log("Preloading...",a.pathname);const b=document.createElement("link");b.setAttribute("as","fetch"),b.setAttribute("rel","prefetch"),b.setAttribute("href",origin+a.pathname+"/content.json"),document.head.appendChild(b)}}const appPromise=new Promise(function(a){document.addEventListener("DOMContentLoaded",()=>{a(loadContentAndInitializeApp())})});userInit.load(appPromise),"function"==typeof connect&&connect(function(a){appPromise.then(b=>{b.ports.fromJsPort.send({contentJson:a})})});const trigger_prefetch=b=>{const c=find_anchor(b.target);c&&c.href&&c.hasAttribute("elm-pages:prefetch")&&prefetchIfNeeded(c)};let mousemove_timeout;const handle_mousemove=a=>{clearTimeout(mousemove_timeout),mousemove_timeout=setTimeout(()=>{trigger_prefetch(a)},20)};addEventListener("touchstart",trigger_prefetch),addEventListener("mousemove",handle_mousemove);function find_anchor(a){for(;a&&"A"!==a.nodeName.toUpperCase();)a=a.parentNode;return a}
    </script>
    <title>tehj.io</title>
    <meta name="generator" content="elm-pages v2.1.10">
    <link rel="manifest" href="/manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="canonical" href="https://tehj.io/blog/2020_06_19_Golang_Bot" />    <meta name="description" content="TODO" />    <meta property="og:image" content="TODO" />    <meta property="og:image:secure_url" content="TODO" />    <meta property="og:image:alt" content="elm-pages logo" />    <meta property="og:title" content="tehj.io" />    <meta property="og:url" content="https://tehj.io/blog/2020_06_19_Golang_Bot" />    <meta property="og:description" content="TODO" />    <meta property="og:site_name" content="tehj.io" />    <meta property="twitter:card" content="summary" />    <meta property="twitter:title" content="tehj.io" />    <meta property="twitter:description" content="TODO" />    <meta property="twitter:image" content="TODO" />    <meta property="twitter:image:alt" content="elm-pages logo" />    <meta property="og:type" content="website" />    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <script id="__ELM_PAGES_DATA__" type="application/json">{"staticData":{"370049794":"{\"rawFile\":\"# Re-writing my Telegram Bot in Golang\\n\\nI had originally written a bot for Telegram (originally named Biblica Bot) which was intended to be a bot for quick reference to the bible. It had a few nifty (at least to me) features:\\n- Retrieve a bible passage given a reference using BibleGateway\\n- Allow the user to set a version to get the passage in\\n- Retrieve a verse from the Navigators' Topical Memory System\\n- Subscribe to any of the following daily updates\\n  - M'cheyne's bible-in-a-year reading plan\\n  - desiringgod.org's daily top articles\\n  - Our Daily Bread's daily devotional\\n- Search for the lexicon definition of a word using BlueLetterBible\\n\\nThe original was written in Python - a learning experience in and of itself - using WebApp to host the service on Google App Engine. It used Google App Engine's blob store to keep track of user preferences (version, current actions, subscriptions, etc...) and had a cron job which would also trigger subscriptions at a fixed time every day. I didn't get round to making that fixed time into a user choice before moving on.\\n\\n![ScriptureBot.png](../assets/blog/2020_06_19_Golang_Bot/ScriptureBot.png)\\n\\nThis also became a way for me to enhance my knowledge of back-end development, REST API usage, and chat bots in general. I had plans to extend the bot to handle multiple platforms (why stop at Telegram?) which similarly exposed chat bot API, and had managed to refactor the Python 2 version so that the framework was extensible - and then it sunsetted, and with it most of my motivation to continue developing the bot in Python 2.\\n\\nAs such, I decided to evaluate a few languages as potential replacements; notably C#, Golang, Node.js and Python 3. Eventually I filtered it down to Golang, the primary reason being that I had other projects which would be appropriate for the remaining languages, and Golang had a pretty smooth tie-in with Google App Engine (after all, it is developed by Google) and was available on the Standard environment (I didn't want to create a datastore just for user data).\\n\\nSo I began to develop in Golang, and here are some of the walls I hit (and therefore the things I learned) from smallest to biggest:\\n\\n## 1. Hosting\\nSince I was using Google App Engine, most of the complexity was taken care of. It was a bit of a struggle to figure out how I should deploy (and what changes there would be in the folder structure after deployment, especially when taking into account static resource locations).\\n\\n![GAE](../assets/blog/2020_06_19_Golang_Bot/GAE.png)\\n\\nI'm not sure even now that I figured it out completely, but it worked to put resources in the root of the main package (my guess is that the compilation step puts the resulting binaries parallel to the main package, but does not maintain other static data locations)\\n\\nObservations:\\n- Google App Engine has a pretty good integration story, and I'm very sure I'm not utilizing all of it (I settled for just using the cloud console shell, since it was a good way to spin up and keep secrets separate from my code). It was quite straightforward to deploy after reading documentation (failing a couple dozen times is normal for a newbie, right?).\\n- Just about all the functionality is also instrumented in a panel somewhere, so after hosting, you could monitor cron jobs, app usage, logs, and so on. I like it a fair bit, although I haven't delved nearly as deep into other platfoms to be able to say Google App Engine is the best.\\n\\n## 2. Programming Language\\nComing from a C/C++ background and having experience with Rust and JavaScript/TypeScript (I suppose at some point languages start to look like mashups of other languages), this wasn't too bad. Conceptually it was very much like writing Rust (but less verbose), and since I wasn't taking advantage of channels (I didn't have any threading I needed to do), it felt quite comfortable to write once I got used to the syntax.\\n\\nObservations:\\n- Serializing/Deserializing required a struct (as long as you want to use a package, at any rate), which both meant that it was frustrating to serialize data (missing any field, or having a bad name or even a bad metadata would cause an error), and safe. There's some debate over whether this is preferable over plain data structures, but it's interesting to note that Golang enforces this through their packages.\\n- Tooling was an interesting one. I'm aware that Golang's package management story is still in the works at the time of writing, but it's got most of the things I wanted from a tools perspective. Especially on VSCode, the Go extension simply recommended tools as I encountered situations, ranging from linting to language support to build tooling. Once all those were in, it would even automatically import and format out of the box (although also opinionated).\\n  - It seems that Golang advocates (and enforces within Golang's linter) a particular programming style. Egyptian style braces, for example, or SentenceCase fields for structs. Not complaining, but it might be a little bit of a shock for an experienced programmer who is used to one particular style.\\n\\n## 3. Testing\\nTesting was tedious (this being a solo project), but it was pretty worth it. Once I had my MVP up (logging and base functionality), I immediately started on testing. I figured it would be useful to also have it run automatically on Github, so I set up a Github Actions for it.\\n\\nThis proved troublesome mainly because of the folder structure. I had initially split up the functionality into 3 big parts, and each had its' own repository:\\n1. Secrets handling\\n2. Platform handling\\n3. App handling\\n\\nThis initially was set up as one main (ScriptureBot) and two packages, with the idea that Secrets and Platform handling could be reused for other bot projects. This proved to be insufficient for my liking once I started writing tests; I felt that there were too many overlaps within each package to be properly testable, and it would cause my test files to be strewn across the root directory of each package.\\n\\nSo I broke up each of the packages into smaller parts where it made sense, and wrote tests for each of the packages. I later absorbed Secrets handling into Platform handling and renamed it. This resulted in just two repositories with well ordered packages; [Platform](github.com/julwrites/BotPlatform) and [App](github.com/julwrites/ScriptureBot).\\n\\n![Tests.png](../assets/blog/2020_06_19_Golang_Bot/Tests.png)\\n\\nUltimately this was a valuable decision; having the tests allowed me to save huge amounts of time finding bugs on production, and instead I was able to catch them early in the tests instead. Furthermore it acted as automated regression tests, so if something did break somewhere (even if it wasn't my code), I'd catch it. All these went into Github Actions to be triggered for each PR, so that I'd have a fairly high confidence that the bot would work when deployed.\\n\\nObservations:\\n- Golang Tests are written in a somewhat similar way to Python Tests (in my experience anyway); they recognize a particular file name as a test file, and this has to be in the same space as the package it is testing. Alternatively, the test function can be named in a specific way and kept within one of the source files. I opted for the former, since I wanted to keep tests separate from code (debatably not the better option, but my preference nonetheless).\\n\\n## 4. Package Management\\nThis was probably the one I struggled with the most, and the primary reason I found myself refactoring my code thrice before I managed to push it to production. I think it was partly the learning curve of the language, but this was probably the most frustrating part for a few reasons:\\n1. Coming from languages which have no restrictions around where code is located, it was not immediately obvious that Golang did (In fact, if you don't import any packages beyond the inbuilt ones, it would be completely non-obvious). It was only when I wanted to import an external package that I ran into this issue, and then discovered that 'Oh, go files have to be in gopath/src/<host>/<username>/<repository>'.\\n2. Again, coming from languages where folder structure is flexible and therefore allows any style of 'housekeeping', it was confusing that Golang has enforced a specific folder structure. I initially thought the structure only applied across repositories, and then later discovered that there was a specific structure for packages within each repository. Neither of these were immediately obvious to me. In retrospect I can see that it was a design choice, though an opinionated one.\\n\\nThat being said, after learning the enforced structure (a repository can have multiple packages, and can import packages from other repositories) and best practices (e.g. always use full paths for imports), it was pretty smooth to use. The main hurdle was finding out that there was an enforced structure and figuring out what it was.\\n\\n![PackageHandling.png](../assets/blog/2020_06_19_Golang_Bot/PackageHandling.png)\\n\\nObservations:\\n- Golang enforces a folder structure which also coincides with package management. A repository would typically have 1 or more packages (each source file is marked to belong to a particular package), and each package must wholly and uniquely reside in a single folder. When importing, it is best to import using the full path (e.g. github.com/julwrites/ScriptureBot/app).\\n- While an opinionated design, this has benefits. Since there is an enforced structure, it is harder for developers to make mistakes, or to write code with minor deviations from one another (therefore leading to misunderstandings and so on). It means that the compiler or interpreter can analyse the repository and perform checks that would not have been possible if (like in C) files could be missing and their location not be stated. Arguably more restrictive, but also safer.\\n\\n\\nAll in all, I think it was a good decision to get into this. I can say I've learned Golang, and I've made something with it that I can use on a daily basis, so I think that's already a win. There's still a fair amount of work I have to do on the bot to bring it up to par, but it's not so different from the work that is already done, so I don't think I'll do a specific post about it.\\n\"}"},"is404":false,"path":"blog/2020_06_19_Golang_Bot"}</script>
    </head>
    <body>
      <div data-url="" display="none"></div>
      <div class="font-size-20 bg-34-44-60-255 fc-255-255-255-255 ff-fira-sanssans-serif p-30 s e max-width-0 wf ui s e"><div><style>@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {.s.r > .s { flex-basis: auto !important; } .s.r > .s.ctr { flex-basis: auto !important; }}
input[type="search"],
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  -webkit-appearance:none;
}

input[type=range] {
  -webkit-appearance: none; 
  background: transparent;
  position:absolute;
  left:0;
  top:0;
  z-index:10;
  width: 100%;
  outline: dashed 1px;
  height: 100%;
  opacity: 0;
}

input[type=range]::-moz-range-track {
    background: transparent;
    cursor: pointer;
}
input[type=range]::-ms-track {
    background: transparent;
    cursor: pointer;
}
input[type=range]::-webkit-slider-runnable-track {
    background: transparent;
    cursor: pointer;
}

input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    opacity: 0.5;
    width: 80px;
    height: 80px;
    background-color: black;
    border:none;
    border-radius: 5px;
}
input[type=range]::-moz-range-thumb {
    opacity: 0.5;
    width: 80px;
    height: 80px;
    background-color: black;
    border:none;
    border-radius: 5px;
}
input[type=range]::-ms-thumb {
    opacity: 0.5;
    width: 80px;
    height: 80px;
    background-color: black;
    border:none;
    border-radius: 5px;
}
input[type=range][orient=vertical]{
    writing-mode: bt-lr; /* IE */
    -webkit-appearance: slider-vertical;  /* WebKit */
}

.explain {
    border: 6px solid rgb(174, 121, 15) !important;
}
.explain > .s {
    border: 4px dashed rgb(0, 151, 167) !important;
}

.ctr {
    border: none !important;
}
.explain > .ctr > .s {
    border: 4px dashed rgb(0, 151, 167) !important;
}

html,body{height:100%;padding:0;margin:0;}.s.e.ic{display:block;}.s.e.ic.hf > img{max-height:100%;object-fit:cover;}.s.e.ic.wf > img{max-width:100%;object-fit:cover;}.s:focus{outline:none;}.ui{width:100%;height:auto;min-height:100%;z-index:0;}.ui.s.hf{height:100%;}.ui.s.hf > .hf{height:100%;}.ui > .fr.nb{position:fixed;z-index:20;}.nb{position:relative;border:none;display:flex;flex-direction:row;flex-basis:auto;}.nb.e{display:flex;flex-direction:column;white-space:pre;}.nb.e.hbh{z-index:0;}.nb.e.hbh > .bh{z-index:-1;}.nb.e.sbt > .t.hf{flex-grow:0;}.nb.e.sbt > .t.wf{align-self:auto !important;}.nb.e > .hc{height:auto;}.nb.e > .hf{flex-grow:100000;}.nb.e > .wf{width:100%;}.nb.e > .wfp{width:100%;}.nb.e > .wc{align-self:flex-start;}.nb.e.ct{justify-content:flex-start;}.nb.e > .s.at{margin-bottom:auto !important;margin-top:0 !important;}.nb.e.cb{justify-content:flex-end;}.nb.e > .s.ab{margin-top:auto !important;margin-bottom:0 !important;}.nb.e.cr{align-items:flex-end;}.nb.e > .s.ar{align-self:flex-end;}.nb.e.cl{align-items:flex-start;}.nb.e > .s.al{align-self:flex-start;}.nb.e.ccx{align-items:center;}.nb.e > .s.cx{align-self:center;}.nb.e.ccy > .s{margin-top:auto;margin-bottom:auto;}.nb.e > .s.cy{margin-top:auto !important;margin-bottom:auto !important;}.nb.a{position:absolute;bottom:100%;left:0;width:100%;z-index:20;margin:0 !important;pointer-events:none;}.nb.a > .hf{height:auto;}.nb.a > .wf{width:100%;}.nb.a > *{pointer-events:auto;}.nb.b{position:absolute;bottom:0;left:0;height:0;width:100%;z-index:20;margin:0 !important;pointer-events:none;}.nb.b > *{pointer-events:auto;}.nb.b > .hf{height:auto;}.nb.or{position:absolute;left:100%;top:0;height:100%;margin:0 !important;z-index:20;pointer-events:none;}.nb.or > *{pointer-events:auto;}.nb.ol{position:absolute;right:100%;top:0;height:100%;margin:0 !important;z-index:20;pointer-events:none;}.nb.ol > *{pointer-events:auto;}.nb.fr{position:absolute;width:100%;height:100%;left:0;top:0;margin:0 !important;pointer-events:none;}.nb.fr > *{pointer-events:auto;}.nb.bh{position:absolute;width:100%;height:100%;left:0;top:0;margin:0 !important;z-index:0;pointer-events:none;}.nb.bh > *{pointer-events:auto;}.s{position:relative;border:none;flex-shrink:0;display:flex;flex-direction:row;flex-basis:auto;resize:none;font-feature-settings:inherit;box-sizing:border-box;margin:0;padding:0;border-width:0;border-style:solid;font-size:inherit;color:inherit;font-family:inherit;line-height:1;font-weight:inherit;text-decoration:none;font-style:inherit;}.s.wrp{flex-wrap:wrap;}.s.notxt{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;}.s.cptr{cursor:pointer;}.s.ctxt{cursor:text;}.s.ppe{pointer-events:none !important;}.s.cpe{pointer-events:auto !important;}.s.clr{opacity:0;}.s.oq{opacity:1;}.s.hvclr:hover{opacity:0;}.s.hvoq:hover{opacity:1;}.s.fcsclr:focus{opacity:0;}.s.fcsoq:focus{opacity:1;}.s.atvclr:active{opacity:0;}.s.atvoq:active{opacity:1;}.s.ts{transition:transform 160ms, opacity 160ms, filter 160ms, background-color 160ms, color 160ms, font-size 160ms;}.s.sb{overflow:auto;flex-shrink:1;}.s.sbx{overflow-x:auto;}.s.sbx.r{flex-shrink:1;}.s.sby{overflow-y:auto;}.s.sby.c{flex-shrink:1;}.s.sby.e{flex-shrink:1;}.s.cp{overflow:hidden;}.s.cpx{overflow-x:hidden;}.s.cpy{overflow-y:hidden;}.s.wc{width:auto;}.s.bn{border-width:0;}.s.bd{border-style:dashed;}.s.bdt{border-style:dotted;}.s.bs{border-style:solid;}.s.t{white-space:pre;display:inline-block;}.s.it{line-height:1.05;background:transparent;text-align:inherit;}.s.e{display:flex;flex-direction:column;white-space:pre;}.s.e.hbh{z-index:0;}.s.e.hbh > .bh{z-index:-1;}.s.e.sbt > .t.hf{flex-grow:0;}.s.e.sbt > .t.wf{align-self:auto !important;}.s.e > .hc{height:auto;}.s.e > .hf{flex-grow:100000;}.s.e > .wf{width:100%;}.s.e > .wfp{width:100%;}.s.e > .wc{align-self:flex-start;}.s.e.ct{justify-content:flex-start;}.s.e > .s.at{margin-bottom:auto !important;margin-top:0 !important;}.s.e.cb{justify-content:flex-end;}.s.e > .s.ab{margin-top:auto !important;margin-bottom:0 !important;}.s.e.cr{align-items:flex-end;}.s.e > .s.ar{align-self:flex-end;}.s.e.cl{align-items:flex-start;}.s.e > .s.al{align-self:flex-start;}.s.e.ccx{align-items:center;}.s.e > .s.cx{align-self:center;}.s.e.ccy > .s{margin-top:auto;margin-bottom:auto;}.s.e > .s.cy{margin-top:auto !important;margin-bottom:auto !important;}.s.r{display:flex;flex-direction:row;}.s.r > .s{flex-basis:0%;}.s.r > .s.we{flex-basis:auto;}.s.r > .s.lnk{flex-basis:auto;}.s.r > .hf{align-self:stretch !important;}.s.r > .hfp{align-self:stretch !important;}.s.r > .wf{flex-grow:100000;}.s.r > .ctr{flex-grow:0;flex-basis:auto;align-self:stretch;}.s.r > u:first-of-type.acr{flex-grow:1;}.s.r > s:first-of-type.accx{flex-grow:1;}.s.r > s:first-of-type.accx > .cx{margin-left:auto !important;}.s.r > s:last-of-type.accx{flex-grow:1;}.s.r > s:last-of-type.accx > .cx{margin-right:auto !important;}.s.r > s:only-of-type.accx{flex-grow:1;}.s.r > s:only-of-type.accx > .cy{margin-top:auto !important;margin-bottom:auto !important;}.s.r > s:last-of-type.accx ~ u{flex-grow:0;}.s.r > u:first-of-type.acr ~ s.accx{flex-grow:0;}.s.r.ct{align-items:flex-start;}.s.r > .s.at{align-self:flex-start;}.s.r.cb{align-items:flex-end;}.s.r > .s.ab{align-self:flex-end;}.s.r.cr{justify-content:flex-end;}.s.r.cl{justify-content:flex-start;}.s.r.ccx{justify-content:center;}.s.r.ccy{align-items:center;}.s.r > .s.cy{align-self:center;}.s.r.sev{justify-content:space-between;}.s.r.lbl{align-items:baseline;}.s.c{display:flex;flex-direction:column;}.s.c > .s{flex-basis:0px;min-height:min-content;}.s.c > .s.he{flex-basis:auto;}.s.c > .hf{flex-grow:100000;}.s.c > .wf{width:100%;}.s.c > .wfp{width:100%;}.s.c > .wc{align-self:flex-start;}.s.c > u:first-of-type.acb{flex-grow:1;}.s.c > s:first-of-type.accy{flex-grow:1;}.s.c > s:first-of-type.accy > .cy{margin-top:auto !important;margin-bottom:0 !important;}.s.c > s:last-of-type.accy{flex-grow:1;}.s.c > s:last-of-type.accy > .cy{margin-bottom:auto !important;margin-top:0 !important;}.s.c > s:only-of-type.accy{flex-grow:1;}.s.c > s:only-of-type.accy > .cy{margin-top:auto !important;margin-bottom:auto !important;}.s.c > s:last-of-type.accy ~ u{flex-grow:0;}.s.c > u:first-of-type.acb ~ s.accy{flex-grow:0;}.s.c.ct{justify-content:flex-start;}.s.c > .s.at{margin-bottom:auto;}.s.c.cb{justify-content:flex-end;}.s.c > .s.ab{margin-top:auto;}.s.c.cr{align-items:flex-end;}.s.c > .s.ar{align-self:flex-end;}.s.c.cl{align-items:flex-start;}.s.c > .s.al{align-self:flex-start;}.s.c.ccx{align-items:center;}.s.c > .s.cx{align-self:center;}.s.c.ccy{justify-content:center;}.s.c > .ctr{flex-grow:0;flex-basis:auto;width:100%;align-self:stretch !important;}.s.c.sev{justify-content:space-between;}.s.g{display:-ms-grid;}.s.g > .gp > .s{width:100%;}@supports (display:grid) {.s.g{display:grid;
}}.s.g > .s.at{justify-content:flex-start;}.s.g > .s.ab{justify-content:flex-end;}.s.g > .s.ar{align-items:flex-end;}.s.g > .s.al{align-items:flex-start;}.s.g > .s.cx{align-items:center;}.s.g > .s.cy{justify-content:center;}.s.pg{display:block;}.s.pg > .s:first-child{margin:0 !important;}.s.pg > .s.al:first-child + .s{margin:0 !important;}.s.pg > .s.ar:first-child + .s{margin:0 !important;}.s.pg > .s.ar{float:right;}.s.pg > .s.ar::after{content:"";display:table;clear:both;}.s.pg > .s.al{float:left;}.s.pg > .s.al::after{content:"";display:table;clear:both;}.s.iml{white-space:pre-wrap !important;height:100%;width:100%;background-color:transparent;}.s.implw.e{flex-basis:auto;}.s.imlp{white-space:pre-wrap !important;cursor:text;}.s.imlp > .imlf{white-space:pre-wrap !important;color:transparent;}.s.p{display:block;white-space:normal;overflow-wrap:break-word;}.s.p.hbh{z-index:0;}.s.p.hbh > .bh{z-index:-1;}.s.p .t{display:inline;white-space:normal;}.s.p .p{display:inline;}.s.p .p::after{content:none;}.s.p .p::before{content:none;}.s.p .e{display:inline;white-space:normal;}.s.p .e.we{display:inline-block;}.s.p .e.fr{display:flex;}.s.p .e.bh{display:flex;}.s.p .e.a{display:flex;}.s.p .e.b{display:flex;}.s.p .e.or{display:flex;}.s.p .e.ol{display:flex;}.s.p .e > .t{display:inline;white-space:normal;}.s.p > .r{display:inline;}.s.p > .c{display:inline-flex;}.s.p > .g{display:inline-grid;}.s.p > .s.ar{float:right;}.s.p > .s.al{float:left;}.s.hidden{display:none;}.s.w1{font-weight:100;}.s.w2{font-weight:200;}.s.w3{font-weight:300;}.s.w4{font-weight:400;}.s.w5{font-weight:500;}.s.w6{font-weight:600;}.s.w7{font-weight:700;}.s.w8{font-weight:800;}.s.w9{font-weight:900;}.s.i{font-style:italic;}.s.sk{text-decoration:line-through;}.s.u{text-decoration:underline;text-decoration-skip-ink:auto;text-decoration-skip:ink;}.s.u.sk{text-decoration:line-through underline;text-decoration-skip-ink:auto;text-decoration-skip:ink;}.s.tun{font-style:normal;}.s.tj{text-align:justify;}.s.tja{text-align:justify-all;}.s.tc{text-align:center;}.s.tr{text-align:right;}.s.tl{text-align:left;}.s.modal{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;}.border-0{border-width:0px;}.border-1{border-width:1px;}.border-2{border-width:2px;}.border-3{border-width:3px;}.border-4{border-width:4px;}.border-5{border-width:5px;}.border-6{border-width:6px;}.font-size-8{font-size:8px;}.font-size-9{font-size:9px;}.font-size-10{font-size:10px;}.font-size-11{font-size:11px;}.font-size-12{font-size:12px;}.font-size-13{font-size:13px;}.font-size-14{font-size:14px;}.font-size-15{font-size:15px;}.font-size-16{font-size:16px;}.font-size-17{font-size:17px;}.font-size-18{font-size:18px;}.font-size-19{font-size:19px;}.font-size-20{font-size:20px;}.font-size-21{font-size:21px;}.font-size-22{font-size:22px;}.font-size-23{font-size:23px;}.font-size-24{font-size:24px;}.font-size-25{font-size:25px;}.font-size-26{font-size:26px;}.font-size-27{font-size:27px;}.font-size-28{font-size:28px;}.font-size-29{font-size:29px;}.font-size-30{font-size:30px;}.font-size-31{font-size:31px;}.font-size-32{font-size:32px;}.p-0{padding:0px;}.p-1{padding:1px;}.p-2{padding:2px;}.p-3{padding:3px;}.p-4{padding:4px;}.p-5{padding:5px;}.p-6{padding:6px;}.p-7{padding:7px;}.p-8{padding:8px;}.p-9{padding:9px;}.p-10{padding:10px;}.p-11{padding:11px;}.p-12{padding:12px;}.p-13{padding:13px;}.p-14{padding:14px;}.p-15{padding:15px;}.p-16{padding:16px;}.p-17{padding:17px;}.p-18{padding:18px;}.p-19{padding:19px;}.p-20{padding:20px;}.p-21{padding:21px;}.p-22{padding:22px;}.p-23{padding:23px;}.p-24{padding:24px;}.v-smcp{font-variant:small-caps;}.v-smcp-off{font-variant:normal;}.v-zero{font-feature-settings:"zero";}.v-zero-off{font-feature-settings:"zero" 0;}.v-onum{font-feature-settings:"onum";}.v-onum-off{font-feature-settings:"onum" 0;}.v-liga{font-feature-settings:"liga";}.v-liga-off{font-feature-settings:"liga" 0;}.v-dlig{font-feature-settings:"dlig";}.v-dlig-off{font-feature-settings:"dlig" 0;}.v-ordn{font-feature-settings:"ordn";}.v-ordn-off{font-feature-settings:"ordn" 0;}.v-tnum{font-feature-settings:"tnum";}.v-tnum-off{font-feature-settings:"tnum" 0;}.v-afrc{font-feature-settings:"afrc";}.v-afrc-off{font-feature-settings:"afrc" 0;}.v-frac{font-feature-settings:"frac";}.v-frac-off{font-feature-settings:"frac" 0;}</style></div><div><style>@import url('https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap');.ff-fira-sanssans-serif.cap, .ff-fira-sanssans-serif .cap {line-height: 1;} .ff-fira-sanssans-serif.cap> .t, .ff-fira-sanssans-serif .cap > .t {vertical-align: 0;line-height: 1;}.spacing-150-150.r > .s + .s{
  margin-left: 150px;
}.spacing-150-150.wrp.r > .s{
  margin: 75px 75px;
}.spacing-150-150.c > .s + .s{
  margin-top: 150px;
}.spacing-150-150.pg > .s + .s{
  margin-top: 150px;
}.spacing-150-150.pg > .al{
  margin-right: 150px;
}.spacing-150-150.pg > .ar{
  margin-left: 150px;
}.spacing-150-150.p{
  line-height: calc(1em + 150px);
}textarea.s.spacing-150-150{
  line-height: calc(1em + 150px);
  height: calc(100% + 150px);
}.spacing-150-150.p > .al{
  margin-right: 150px;
}.spacing-150-150.p > .ar{
  margin-left: 150px;
}.spacing-150-150.p::after{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-top: -75px;
}.spacing-150-150.p::before{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-bottom: -75px;
}.font-size-35{
  font-size: 35px;
}.max-width-800{
  max-width: 800px;
}.spacing-5-5.r > .s + .s{
  margin-left: 5px;
}.spacing-5-5.wrp.r > .s{
  margin: 2.5px 2.5px;
}.spacing-5-5.c > .s + .s{
  margin-top: 5px;
}.spacing-5-5.pg > .s + .s{
  margin-top: 5px;
}.spacing-5-5.pg > .al{
  margin-right: 5px;
}.spacing-5-5.pg > .ar{
  margin-left: 5px;
}.spacing-5-5.p{
  line-height: calc(1em + 5px);
}textarea.s.spacing-5-5{
  line-height: calc(1em + 5px);
  height: calc(100% + 5px);
}.spacing-5-5.p > .al{
  margin-right: 5px;
}.spacing-5-5.p > .ar{
  margin-left: 5px;
}.spacing-5-5.p::after{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-top: -2px;
}.spacing-5-5.p::before{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-bottom: -2px;
}.font-size-40{
  font-size: 40px;
}.spacing-20-20.r > .s + .s{
  margin-left: 20px;
}.spacing-20-20.wrp.r > .s{
  margin: 10px 10px;
}.spacing-20-20.c > .s + .s{
  margin-top: 20px;
}.spacing-20-20.pg > .s + .s{
  margin-top: 20px;
}.spacing-20-20.pg > .al{
  margin-right: 20px;
}.spacing-20-20.pg > .ar{
  margin-left: 20px;
}.spacing-20-20.p{
  line-height: calc(1em + 20px);
}textarea.s.spacing-20-20{
  line-height: calc(1em + 20px);
  height: calc(100% + 20px);
}.spacing-20-20.p > .al{
  margin-right: 20px;
}.spacing-20-20.p > .ar{
  margin-left: 20px;
}.spacing-20-20.p::after{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-top: -10px;
}.spacing-20-20.p::before{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-bottom: -10px;
}.height-px-33px{
  height : 33px;
}.width-px-33{
  width: 33px;
}.spacing-80-80.r > .s + .s{
  margin-left: 80px;
}.spacing-80-80.wrp.r > .s{
  margin: 40px 40px;
}.spacing-80-80.c > .s + .s{
  margin-top: 80px;
}.spacing-80-80.pg > .s + .s{
  margin-top: 80px;
}.spacing-80-80.pg > .al{
  margin-right: 80px;
}.spacing-80-80.pg > .ar{
  margin-left: 80px;
}.spacing-80-80.p{
  line-height: calc(1em + 80px);
}textarea.s.spacing-80-80{
  line-height: calc(1em + 80px);
  height: calc(100% + 80px);
}.spacing-80-80.p > .al{
  margin-right: 80px;
}.spacing-80-80.p > .ar{
  margin-left: 80px;
}.spacing-80-80.p::after{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-top: -40px;
}.spacing-80-80.p::before{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-bottom: -40px;
}.spacing-30-30.r > .s + .s{
  margin-left: 30px;
}.spacing-30-30.wrp.r > .s{
  margin: 15px 15px;
}.spacing-30-30.c > .s + .s{
  margin-top: 30px;
}.spacing-30-30.pg > .s + .s{
  margin-top: 30px;
}.spacing-30-30.pg > .al{
  margin-right: 30px;
}.spacing-30-30.pg > .ar{
  margin-left: 30px;
}.spacing-30-30.p{
  line-height: calc(1em + 30px);
}textarea.s.spacing-30-30{
  line-height: calc(1em + 30px);
  height: calc(100% + 30px);
}.spacing-30-30.p > .al{
  margin-right: 30px;
}.spacing-30-30.p > .ar{
  margin-left: 30px;
}.spacing-30-30.p::after{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-top: -15px;
}.spacing-30-30.p::before{
  content: '';
  display: block;
  height: 0;
  width: 0;
  margin-bottom: -15px;
}.max-width-0{
  max-width: 0px;
}.p-30{
  padding: 30px 30px 30px 30px;
}.ff-fira-sanssans-serif{
  font-family: "Fira Sans", sans-serif;
  font-feature-settings: ;
  font-variant: normal;
}.fc-255-255-255-255{
  color: rgba(255,255,255,1);
}.bg-34-44-60-255{
  background-color: rgba(34,44,60,1);
}.focus-within:focus-within{
  box-shadow: 0px 0px 0px 3px rgba(155,203,255,1);
  outline: none;
}.s:focus .focusable, .s.focusable:focus, .ui-slide-bar:focus + .s .focusable-thumb{
  box-shadow: 0px 0px 0px 3px rgba(155,203,255,1);
  outline: none;
}</style></div><div class="hc ah cx spacing-30-30 s c wc ct cl"><nav class="hc ah cx spacing-80-80 s r wc cl ccy"><a class="hc s e wc ccx ccy lnk" href="/" rel="noopener noreferrer"><div class="s t wf hf">Home</div></a><a class="hc s e wc ccx ccy lnk" href="/about" rel="noopener noreferrer"><div class="s t wf hf">About</div></a><a class="hc s e wc ccx ccy lnk" href="/projects" rel="noopener noreferrer"><div class="s t wf hf">Projects</div></a></nav><div class="hc ah cx spacing-30-30 p-30 s c max-width-0 wf ct cl"><a class="hc ah al s e wc ccx ccy lnk" href="/projects" rel="noopener noreferrer"><div class="we width-px-33 he height-px-33px s e ic"><img class="we width-px-33 he height-px-33px s e" alt="Back" src="../assets/images/dark/backarrow.png"></div></a><div class="hc ah cx spacing-20-20 s c max-width-0 wf ct cl"><div class="hc w7 font-size-40 s e wc"><div class="spacing-5-5 s p wf"><div class="s t wc hc">Re-writing my Telegram Bot in Golang</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">I had originally written a bot for Telegram (originally named Biblica Bot) which was intended to be a bot for quick reference to the bible. It had a few nifty (at least to me) features:</div></div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Retrieve a bible passage given a reference using BibleGateway</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Allow the user to set a version to get the passage in</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Retrieve a verse from the Navigators&#039; Topical Memory System</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Subscribe to any of the following daily updates</div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">M&#039;cheyne&#039;s bible-in-a-year reading plan</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">desiringgod.org&#039;s daily top articles</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Our Daily Bread&#039;s daily devotional</div></div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Search for the lexicon definition of a word using BlueLetterBible</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">The original was written in Python - a learning experience in and of itself - using WebApp to host the service on Google App Engine. It used Google App Engine&#039;s blob store to keep track of user preferences (version, current actions, subscriptions, etc...) and had a cron job which would also trigger subscriptions at a fixed time every day. I didn&#039;t get round to making that fixed time into a user choice before moving on.</div></div><div class="spacing-5-5 s p wf"><div class="s e max-width-800 wf ic"><img class="s e max-width-800 wf" alt="ScriptureBot.png" src="../assets/blog/2020_06_19_Golang_Bot/ScriptureBot.png"></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">This also became a way for me to enhance my knowledge of back-end development, REST API usage, and chat bots in general. I had plans to extend the bot to handle multiple platforms (why stop at Telegram?) which similarly exposed chat bot API, and had managed to refactor the Python 2 version so that the framework was extensible - and then it sunsetted, and with it most of my motivation to continue developing the bot in Python 2.</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">As such, I decided to evaluate a few languages as potential replacements; notably C#, Golang, Node.js and Python 3. Eventually I filtered it down to Golang, the primary reason being that I had other projects which would be appropriate for the remaining languages, and Golang had a pretty smooth tie-in with Google App Engine (after all, it is developed by Google) and was available on the Standard environment (I didn&#039;t want to create a datastore just for user data).</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">So I began to develop in Golang, and here are some of the walls I hit (and therefore the things I learned) from smallest to biggest:</div></div><div class="hc w6 font-size-35 s e wc"><div class="spacing-5-5 s p wf"><div class="s t wc hc">1. Hosting</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Since I was using Google App Engine, most of the complexity was taken care of. It was a bit of a struggle to figure out how I should deploy (and what changes there would be in the folder structure after deployment, especially when taking into account static resource locations).</div></div><div class="spacing-5-5 s p wf"><div class="s e max-width-800 wf ic"><img class="s e max-width-800 wf" alt="GAE" src="../assets/blog/2020_06_19_Golang_Bot/GAE.png"></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">I&#039;m not sure even now that I figured it out completely, but it worked to put resources in the root of the main package (my guess is that the compilation step puts the resulting binaries parallel to the main package, but does not maintain other static data locations)</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Observations:</div></div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Google App Engine has a pretty good integration story, and I&#039;m very sure I&#039;m not utilizing all of it (I settled for just using the cloud console shell, since it was a good way to spin up and keep secrets separate from my code). It was quite straightforward to deploy after reading documentation (failing a couple dozen times is normal for a newbie, right?).</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Just about all the functionality is also instrumented in a panel somewhere, so after hosting, you could monitor cron jobs, app usage, logs, and so on. I like it a fair bit, although I haven&#039;t delved nearly as deep into other platfoms to be able to say Google App Engine is the best.</div></div></div><div class="hc w6 font-size-35 s e wc"><div class="spacing-5-5 s p wf"><div class="s t wc hc">2. Programming Language</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Coming from a C/C++ background and having experience with Rust and JavaScript/TypeScript (I suppose at some point languages start to look like mashups of other languages), this wasn&#039;t too bad. Conceptually it was very much like writing Rust (but less verbose), and since I wasn&#039;t taking advantage of channels (I didn&#039;t have any threading I needed to do), it felt quite comfortable to write once I got used to the syntax.</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Observations:</div></div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Serializing/Deserializing required a struct (as long as you want to use a package, at any rate), which both meant that it was frustrating to serialize data (missing any field, or having a bad name or even a bad metadata would cause an error), and safe. There&#039;s some debate over whether this is preferable over plain data structures, but it&#039;s interesting to note that Golang enforces this through their packages.</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Tooling was an interesting one. I&#039;m aware that Golang&#039;s package management story is still in the works at the time of writing, but it&#039;s got most of the things I wanted from a tools perspective. Especially on VSCode, the Go extension simply recommended tools as I encountered situations, ranging from linting to language support to build tooling. Once all those were in, it would even automatically import and format out of the box (although also opinionated).</div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">It seems that Golang advocates (and enforces within Golang&#039;s linter) a particular programming style. Egyptian style braces, for example, or SentenceCase fields for structs. Not complaining, but it might be a little bit of a shock for an experienced programmer who is used to one particular style.</div></div></div></div></div><div class="hc w6 font-size-35 s e wc"><div class="spacing-5-5 s p wf"><div class="s t wc hc">3. Testing</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Testing was tedious (this being a solo project), but it was pretty worth it. Once I had my MVP up (logging and base functionality), I immediately started on testing. I figured it would be useful to also have it run automatically on Github, so I set up a Github Actions for it.</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">This proved troublesome mainly because of the folder structure. I had initially split up the functionality into 3 big parts, and each had its&#039; own repository:</div></div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">1. </div><div class="s t wc hc">Secrets handling</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">2. </div><div class="s t wc hc">Platform handling</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">3. </div><div class="s t wc hc">App handling</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">This initially was set up as one main (ScriptureBot) and two packages, with the idea that Secrets and Platform handling could be reused for other bot projects. This proved to be insufficient for my liking once I started writing tests; I felt that there were too many overlaps within each package to be properly testable, and it would cause my test files to be strewn across the root directory of each package.</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">So I broke up each of the packages into smaller parts where it made sense, and wrote tests for each of the packages. I later absorbed Secrets handling into Platform handling and renamed it. This resulted in just two repositories with well ordered packages; </div><a class="hc s e wc ccx ccy lnk" href="github.com/julwrites/BotPlatform" rel="noopener noreferrer"><div class="spacing-5-5 s p wf"><div class="s t wc hc">Platform</div></div></a><div class="s t wc hc"> and </div><a class="hc s e wc ccx ccy lnk" href="github.com/julwrites/ScriptureBot" rel="noopener noreferrer"><div class="spacing-5-5 s p wf"><div class="s t wc hc">App</div></div></a><div class="s t wc hc">.</div></div><div class="spacing-5-5 s p wf"><div class="s e max-width-800 wf ic"><img class="s e max-width-800 wf" alt="Tests.png" src="../assets/blog/2020_06_19_Golang_Bot/Tests.png"></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Ultimately this was a valuable decision; having the tests allowed me to save huge amounts of time finding bugs on production, and instead I was able to catch them early in the tests instead. Furthermore it acted as automated regression tests, so if something did break somewhere (even if it wasn&#039;t my code), I&#039;d catch it. All these went into Github Actions to be triggered for each PR, so that I&#039;d have a fairly high confidence that the bot would work when deployed.</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Observations:</div></div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Golang Tests are written in a somewhat similar way to Python Tests (in my experience anyway); they recognize a particular file name as a test file, and this has to be in the same space as the package it is testing. Alternatively, the test function can be named in a specific way and kept within one of the source files. I opted for the former, since I wanted to keep tests separate from code (debatably not the better option, but my preference nonetheless).</div></div></div><div class="hc w6 font-size-35 s e wc"><div class="spacing-5-5 s p wf"><div class="s t wc hc">4. Package Management</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">This was probably the one I struggled with the most, and the primary reason I found myself refactoring my code thrice before I managed to push it to production. I think it was partly the learning curve of the language, but this was probably the most frustrating part for a few reasons:</div></div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">1. </div><div class="s t wc hc">Coming from languages which have no restrictions around where code is located, it was not immediately obvious that Golang did (In fact, if you don&#039;t import any packages beyond the inbuilt ones, it would be completely non-obvious). It was only when I wanted to import an external package that I ran into this issue, and then discovered that &#039;Oh, go files have to be in gopath/src/&lt;host&gt;/&lt;username&gt;/&lt;repository&gt;&#039;.</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">2. </div><div class="s t wc hc">Again, coming from languages where folder structure is flexible and therefore allows any style of &#039;housekeeping&#039;, it was confusing that Golang has enforced a specific folder structure. I initially thought the structure only applied across repositories, and then later discovered that there was a specific structure for packages within each repository. Neither of these were immediately obvious to me. In retrospect I can see that it was a design choice, though an opinionated one.</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">That being said, after learning the enforced structure (a repository can have multiple packages, and can import packages from other repositories) and best practices (e.g. always use full paths for imports), it was pretty smooth to use. The main hurdle was finding out that there was an enforced structure and figuring out what it was.</div></div><div class="spacing-5-5 s p wf"><div class="s e max-width-800 wf ic"><img class="s e max-width-800 wf" alt="PackageHandling.png" src="../assets/blog/2020_06_19_Golang_Bot/PackageHandling.png"></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">Observations:</div></div><div class="hc p-15 s c wc ct cl"><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">Golang enforces a folder structure which also coincides with package management. A repository would typically have 1 or more packages (each source file is marked to belong to a particular package), and each package must wholly and uniquely reside in a single folder. When importing, it is best to import using the full path (e.g. github.com/julwrites/ScriptureBot/app).</div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">- </div><div class="s t wc hc">While an opinionated design, this has benefits. Since there is an enforced structure, it is harder for developers to make mistakes, or to write code with minor deviations from one another (therefore leading to misunderstandings and so on). It means that the compiler or interpreter can analyse the repository and perform checks that would not have been possible if (like in C) files could be missing and their location not be stated. Arguably more restrictive, but also safer.</div></div></div><div class="spacing-5-5 s p wf"><div class="s t wc hc">All in all, I think it was a good decision to get into this. I can say I&#039;ve learned Golang, and I&#039;ve made something with it that I can use on a daily basis, so I think that&#039;s already a win. There&#039;s still a fair amount of work I have to do on the bot to bring it up to par, but it&#039;s not so different from the work that is already done, so I don&#039;t think I&#039;ll do a specific post about it.</div></div></div></div><div class="hc ah cx spacing-150-150 s r wc cl ccy"><a class="hc s e wc ccx ccy lnk" href="https://github.com/julwrites" rel="noopener noreferrer"><div class="we width-px-33 he height-px-33px s e ic"><img class="we width-px-33 he height-px-33px s e" alt="Github" src="assets/images/dark/github.png"></div></a><a class="hc s e wc ccx ccy lnk" href="https://linkedin.com/in/julwrites" rel="noopener noreferrer"><div class="we width-px-33 he height-px-33px s e ic"><img class="we width-px-33 he height-px-33px s e" alt="LinkedIn" src="assets/images/dark/linkedin.png"></div></a><a class="hc s e wc ccx ccy lnk" href="mail@tehj.io" rel="noopener noreferrer"><div class="we width-px-33 he height-px-33px s e ic"><img class="we width-px-33 he height-px-33px s e" alt="Email" src="assets/images/dark/email.png"></div></a></div></div></div>
    </body>
  </html>
  